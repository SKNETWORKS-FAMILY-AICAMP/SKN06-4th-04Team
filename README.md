
SKN06-4TH-04Team


# ğŸ‘©â€âš–ï¸LLM ì„ ì—°ë™í•œ ë‚´ ì™¸ë¶€ ë¬¸ì„œ ê¸°ë°˜ ì§ˆì˜ ì‘ë‹µ ì›¹í˜ì´ì§€ ê°œë°œğŸ‘¨â€âš–ï¸ 
 
*ê°œë°œê¸°ê°„:* 2025.01.16 - 2025.01.20
=======


# ğŸ‘©â€âš–ï¸ì„¸ë²• ì§ˆì˜ì‘ë‹µ ì‹œìŠ¤í…œğŸ‘¨â€âš–ï¸ 
 


## ğŸ’» íŒ€ ì†Œê°œ

# íŒ€ëª…: ì ˆì„¸ë¯¸ì¸

<img src="https://github.com/user-attachments/assets/df44c785-4e29-44ce-ab52-48ed3abee8d7" width="600" height="500">



| [ë…¸ì›ì¬] | [ë°•ì„œìœ¤] | [ë°•ìœ ë‚˜] | [ìœ ê²½ìƒ] | [ì „í•˜ì—°] |
|:-------:|:-------:|:-------:|:-------:|:-------:|
|<img src="https://github.com/user-attachments/assets/83778ae7-cead-4f34-ab0c-27d50300b23f" width="160" height="160">|<img src="https://github.com/user-attachments/assets/0889164e-66b0-4df2-b3f7-4ede25b6ee80"  width="160" height="160">|<img src="https://github.com/user-attachments/assets/faf2d9c0-a945-4604-98bb-af2b1907acae"   width="160" height="160">|<img src="https://github.com/user-attachments/assets/bd07a4f7-65aa-49c2-9cfd-e54f41d08282"  width="160" height="160">|<img src="https://github.com/user-attachments/assets/087fcd42-4884-425d-a7b0-fe866ff18b03"  width="160" height="160">|
|    ì ˆì„¸ë‚¨    |     ì ˆì„¸ë¯¸ë…€    |    ì ˆì„¸ë¯¸ë…€     |     ì ˆì„¸ë‚¨    |     ì ˆì„¸ë¯¸ë…€    |


---

<<<<<<< HEAD
# ğŸ’»ì„¸ë²• ì§ˆì˜ì‘ë‹µ ì›¹ì„œë¹„ìŠ¤ğŸ’»

## ğŸ“Œ 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1. ê°œë°œ ë™ê¸° ë° ëª©ì   
ë³¸ í”„ë¡œì íŠ¸ëŠ” **ë³µì¡í•œ ì„¸ë²• ê´€ë ¨ ì§ˆë¬¸ì— ëŒ€í•œ ì‹ ì†í•˜ê³  ì •í™•í•œ ë‹µë³€ ì œê³µ**ì„ ëª©í‘œë¡œ í•˜ëŠ” **ì„¸ë²• ì§ˆì˜ì‘ë‹µ ì›¹ì„œë¹„ìŠ¤**ì„ êµ¬í˜„í•˜ê³ ì í–ˆìŠµë‹ˆë‹¤. ë²•ì œì²˜ì—ì„œ ì œê³µí•˜ëŠ” ì„¸ë²• ê´€ë ¨ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ ì„¸ê¸ˆ ê´€ë ¨ ì§ˆì˜ì— ëŒ€í•œ ì •í™•í•œ ë‹µë³€ì„ ì œê³µí•˜ëŠ” ì±—ë´‡ ì‹œìŠ¤í…œì„ ê°œë°œí–ˆìœ¼ë©°, [SKN06-3rd-04team](https://github.com/SKNETWORKS-FAMILY-AICAMP/SKN06-3rd-4Team)ì„ ê¸°ë°˜ìœ¼ë¡œ ê°œë°œëœ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

### 1.2. í•„ìš”ì„±  
ì„¸ë²•ì€ ë³µì¡í•˜ê³  ìì£¼ ê°œì •ë˜ì–´ ì¼ë°˜ì¸ë“¤ì´ ì´í•´í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. íŠ¹íˆ **ê°œì¸ê³¼ ê¸°ì—…ì˜ ì„¸ê¸ˆ ê´€ë ¨ ë¬¸ì˜**ì— ëŒ€í•´ ì‹ ì†í•˜ê³  ì •í™•í•œ ì •ë³´ ì œê³µì´ í•„ìš”í•©ë‹ˆë‹¤. ë”°ë¼ì„œ, **ì„¸ê¸ˆ ê´€ë ¨ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸**ì— ì¦‰ì‹œ ë‹µë³€í•  ìˆ˜ ìˆëŠ” ì±—ë´‡ ì›¹í˜ì´ì§€ì„ í†µí•´ **ì„¸ë²•ì— ëŒ€í•œ ì ‘ê·¼ì„±ì„ í–¥ìƒ**ì‹œí‚¤ê³  ì‚¬ìš©ìë“¤ì˜ ì´í•´ë¥¼ ë•ê³ ì í–ˆìŠµë‹ˆë‹¤.

### 1.3. ê°œë°œ ëª©í‘œ  
- **ì •í™•í•œ ì •ë³´ ì œê³µ:** ìµœì‹  ì„¸ë²• ê·œì •ê³¼ ì ˆì°¨ ë°˜ì˜  
- **ì •í™•ì„± í–¥ìƒ:** ì¼ë°˜ì ì¸ ì±—ë´‡ í•œê³„ë¥¼ ë„˜ëŠ” **êµ¬ì²´ì ì´ê³  ì •í™•í•œ ì„¸ë²• ê´€ë ¨ ë‹µë³€ ì œê³µ**
- **ì‚¬ìš©ì ê²½í—˜ ê°œì„ :** ì§ê´€ì ì´ê³  í¸ë¦¬í•œ UI/UX ì„¤ê³„

## ğŸ“Œ 2. ìš”êµ¬ì‚¬í•­ ì •ì˜ì„œ

## ğŸ“Œ 3. í™”ë©´ ì„¤ê³„ì„œ

## ğŸ“Œ 4. ì‹œìŠ¤í…œ êµ¬ì„±ë„

## ğŸ“Œ 5. í…ŒìŠ¤íŠ¸ ê³„íšì„œ ë° í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë³´ê³ ì„œ

## ğŸ“Œ 6. í•œ ì¤„ íšŒê³ 
 - **ë…¸ì›ì¬**: 
 - **ë°•ì„œìœ¤**: 
 - **ë°•ìœ ë‚˜**: 
 - **ìœ ê²½ìƒ**: 
 - **ì „í•˜ì—°**: 
=======
## ğŸ“Œ 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1. ê°œë°œ ë™ê¸° ë° ëª©ì   
ë³¸ í”„ë¡œì íŠ¸ëŠ” **ë³µì¡í•œ ì„¸ë²• ê´€ë ¨ ì§ˆë¬¸ì— ëŒ€í•œ ì‹ ì†í•˜ê³  ì •í™•í•œ ë‹µë³€ ì œê³µ**ì„ ëª©í‘œë¡œ í•˜ëŠ” **ì„¸ë²• í™•ì¸ ì±—ë´‡ ì‹œìŠ¤í…œ**ì„ êµ¬í˜„í•˜ê³ ì í–ˆìŠµë‹ˆë‹¤. ë²•ì œì²˜ì—ì„œ ì œê³µí•˜ëŠ” ì„¸ë²• ê´€ë ¨ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ ì„¸ê¸ˆ ê´€ë ¨ ì§ˆì˜ì— ëŒ€í•œ ì •í™•í•œ ë‹µë³€ì„ ì œê³µí•˜ëŠ” ì±—ë´‡ ì‹œìŠ¤í…œì„ ê°œë°œí–ˆìŠµë‹ˆë‹¤.  

### 1.2. í•„ìš”ì„±  
ì„¸ë²•ì€ ë³µì¡í•˜ê³  ìì£¼ ê°œì •ë˜ì–´ ì¼ë°˜ì¸ë“¤ì´ ì´í•´í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. íŠ¹íˆ **ê°œì¸ê³¼ ê¸°ì—…ì˜ ì„¸ê¸ˆ ê´€ë ¨ ë¬¸ì˜**ì— ëŒ€í•´ ì‹ ì†í•˜ê³  ì •í™•í•œ ì •ë³´ ì œê³µì´ í•„ìš”í•©ë‹ˆë‹¤. ë”°ë¼ì„œ, **ì„¸ê¸ˆ ê´€ë ¨ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸**ì— ì¦‰ì‹œ ë‹µë³€í•  ìˆ˜ ìˆëŠ” ì±—ë´‡ ì‹œìŠ¤í…œì„ í†µí•´ **ì„¸ë²•ì— ëŒ€í•œ ì ‘ê·¼ì„±ì„ í–¥ìƒ**ì‹œí‚¤ê³  ì‚¬ìš©ìë“¤ì˜ ì´í•´ë¥¼ ë•ê³ ì í–ˆìŠµë‹ˆë‹¤.

### 1.3. ê°œë°œ ëª©í‘œ  
- **ì •í™•í•œ ì •ë³´ ì œê³µ:** ìµœì‹  ì„¸ë²• ê·œì •ê³¼ ì ˆì°¨ ë°˜ì˜  
- **ì •í™•ì„± í–¥ìƒ:** ì¼ë°˜ì ì¸ ì±—ë´‡ í•œê³„ë¥¼ ë„˜ëŠ” **êµ¬ì²´ì ì´ê³  ì •í™•í•œ ì„¸ë²• ê´€ë ¨ ë‹µë³€ ì œê³µ**  

### 1.4. ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
â”œâ”€â”€ data 
â”‚   â”œâ”€â”€ tax_law1 : ì„¸ë²• ê´€ë ¨ (12ê°œ)
â”‚       â”œâ”€â”€ ê°œë³„ì†Œë¹„ì„¸ë²•.pdf  
â”‚       â”œâ”€â”€ ê°œë³„ì†Œë¹„ì„¸ë²•_ì‹œí–‰ê·œì¹™.pdf
â”‚       â”œâ”€â”€ ê°œë³„ì†Œë¹„ì„¸ë²•_ì‹œí–‰ë ¹.pdf  
â”‚       â””â”€â”€ ...
â”‚   â””â”€â”€ tax_law2 : ì„¸ë²• ê´€ë ¨(12ê°œ)
â”‚       â”œâ”€â”€ êµ­ì„¸ê¸°ë³¸ë²•.pdf
â”‚   â””â”€â”€ ...       
â”‚   â””â”€â”€ tax_law6 : ì„¸ë²• ê´€ë ¨
â”‚       â””â”€â”€ ...
â”‚
â”‚   â””â”€â”€ tax_etc : ê¸°íƒ€ ë°ì´í„° (5ê°œ)
â”‚       â”œâ”€â”€ 2024_í•µì‹¬_ê°œì •ì„¸ë²•.pdf  
â”‚       â”œâ”€â”€ ì—°ë§ì •ì‚°_Q&A.pdf  
â”‚       â”œâ”€â”€ ì—°ë§ì •ì‚°_ì‹ ê³ ì•ˆë‚´.pdf  
â”‚       â”œâ”€â”€ ì—°ë§ì •ì‚°_ì£¼íƒìê¸ˆÂ·ì›”ì„¸ì•¡_ê³µì œì˜ì´í•´.pdf  
â”‚       â””â”€â”€ ì£¼ìš”_ê³µì œ_í•­ëª©ë³„_ê³„ì‚°ì‚¬ë¡€.pdf  
â”œâ”€â”€ loader.py : ë°ì´í„° ë¡œë”©ì„ ìœ„í•œ í•¨ìˆ˜ ëª¨ë“ˆ  
â””â”€â”€ main.ipynb : í”„ë¡œì íŠ¸ ìµœì¢… ë…¸íŠ¸ë¶ íŒŒì¼  
```

---

## ğŸ“Œ 2. ìƒì„¸ ë‚´ìš©

### 2.1. ë°ì´í„° ìˆ˜ì§‘
-  [ë²•ì œì²˜](https://www.law.go.kr/LSW/main.html)ì™€ [êµ­ì„¸ì²­](https://www.nts.go.kr/nts/cm/cntnts/cntntsView.do?mi=2304&cntntsId=238938)ì—ì„œ ì„¸ë²• ê´€ë ¨ ë°ì´í„° ë‹¤ìš´ë¡œë“œ

### 2.2. ë°ì´í„° ë¡œë“œ
- **PyMuPDFLoader**
  - í•„ìš”ì—†ëŠ” í˜ì´ì§€ ì œì™¸í•˜ê³  ì½ê¸°

    ```python3
    text_loader = PyMuPDFLoader(pdf_file)
    texts = text_loader.load()

    for i, text in enumerate(texts):
        text.metadata["page"] = i + 1      

    page_ranges = [(17, 426)]
    texts = [
        text for text in texts
        if any(start <= text.metadata.get("page", 0) <= end for start, end in page_ranges)
    ]
    ```
- **Tabula**
  - PDFì˜ í…Œì´ë¸” ë°ì´í„° ì½ê¸°ìš©
  - ì ìš© íŒŒì¼:<br/>2024_í•µì‹¬_ê°œì •ì„¸ë²•.pdf, ì—°ë§ì •ì‚°_ì‹ ê³ ì•ˆë‚´.pdf, ì—°ë§ì •ì‚°_ì£¼íƒìê¸ˆÂ·ì›”ì„¸ì•¡_ê³µì œì˜ì´í•´.pdf, ì£¼ìš”_ê³µì œ_í•­ëª©ë³„_ê³„ì‚°ì‚¬ë¡€.pdf

    ```python3
    tables = read_pdf(pdf_file, pages=table_pages_range, stream=True, multiple_tables=True)
        table_texts = [table.to_string(index=False, header=True) for table in tables]
    ```
### 2.3. ë°ì´í„° ì „ì²˜ë¦¬
- **ë¶ˆí•„ìš” í…ìŠ¤íŠ¸ ì œê±°**
  - ì„¸ë²• ê´€ë ¨ (ê°œë³„ì†Œë¹„ì„¸ë²•~ì¦ê¶Œê±°ë˜ì„¸ë²•_ì‹œí–‰ë ¹).pdf, ì—°ë§ì •ì‚°_Q&A.pdf
    ##### - ë¨¸ë¦¬ë§, ê¼¬ë¦¬ë§ ì œê±°
    ```python3
    rf'ë²•ì œì²˜\s*\d+\s*êµ­ê°€ë²•ë ¹ì •ë³´ì„¼í„°\n{file_name.replace('_', ' ')}\n'
    ```
    ##### - [ ]ë¡œ ê°ì‹¸ì§„ í…ìŠ¤íŠ¸ ì œê±°
    ```python3
    r'\[[\s\S]*?\]'
    #text = re.sub(r'ã€.*?ã€‘', '', text, flags=re.MULTILINE)
    ```
    ##### - < >ë¡œ ê°ì‹¸ì§„  í…ìŠ¤íŠ¸ ì œê±°
    ```python3
    r'<[\s\S]*?>'  
    ```
    ##### - í˜ì´ì§€ ë²ˆí˜¸ íŒ¨í„´ ì œê±°
    ```python3
    text = re.sub(r'^- \d{1,3} -', '', text, flags=re.MULTILINE)
    ```
    
  - 2024_í•µì‹¬_ê°œì •ì„¸ë²•.pdf, ì—°ë§ì •ì‚°_ì‹ ê³ ì•ˆë‚´.pdf, ì—°ë§ì •ì‚°_ì£¼íƒìê¸ˆÂ·ì›”ì„¸ì•¡_ê³µì œì˜ì´í•´.pdf
    ##### - ë¨¸ë¦¬ë§ ë° ì‚¬ì´ë“œë°” ì œê±°
    ```python3
    - r"2\n0\n2\n5\n\s*ë‹¬\në¼\nì§€\nëŠ”\n\s*ì„¸\nê¸ˆ\nì œ\në„|"  
    - r"\n2\n0\n2\n4\n\s*ì„¸\nëª©\në³„\n\s*í•µ\nì‹¬\n\s*ê°œ\nì •\nì„¸\në²•|"
    - r"\n2\n0\n2\n4\n\s*ê°œ\nì •\nì„¸\në²•\n\s*ì¢…\nì „\n-\nê°œ\nì •\nì‚¬\ní•­\n\s*ë¹„\nêµ\n|"
    - r"\s*3\s*âšêµ­ë¯¼ï½¥ê¸°ì—…\s*ë‚©ì„¸ììš©\s*|"
    - r"\s*2\s*0\s*2\s*4\s|"
    - r"\sí•œêµ­ì„¸ë¬´ì‚¬íšŒ\s|" 
    - r"\n7\nâšêµ­ë¯¼ï½¥ê¸°ì—… ë‚©ì„¸ììš©|"
    - r"\n71\nâšìƒì„¸ë³¸|"
    ```
    ##### - ë¬¸ì¥ì´ ë‹¤ìŒì¤„ë¡œ ë„˜ì–´ê°€ë©´ì„œ ìƒê¸°ëŠ” \n ì œê±° 
    ```python3
    r"([\uAC00-\uD7A3])\n+([\uAC00-\uD7A3])"
    re.sub(pattern2, r"\1\2" , edit_content) #ì•ë’¤ê¸€ì í•©ì¹˜ê¸°
    ```

  - ì—°ë§ì •ì‚°_ì‹ ê³ ì•ˆë‚´.pdf, ì—°ë§ì •ì‚°_ì£¼íƒìê¸ˆÂ·ì›”ì„¸ì•¡_ê³µì œì˜ì´í•´.pdf, ì£¼ìš”_ê³µì œ_í•­ëª©ë³„_ê³„ì‚°ì‚¬ë¡€.pdf
    ##### - NaN ì œê±°
    ```python3
    r"\bNaN\b"
    ```
    #### - í•˜ë‚˜ ì´ìƒì˜ ê³µë°±ë¬¸ìë¥¼ í•œ ê°œì˜ ê³µë°±ë¬¸ìë¡œ ë°”ê¾¸ê¸°
    ```python3
    - r"\s+"
    - re.sub(pattern3, " ", edit_content)
    ```
    
    
### 2.4. split ë°©ë²•
- ì„¸ë²• ê´€ë ¨ (ê°œë³„ì†Œë¹„ì„¸ë²•~ì¦ê¶Œê±°ë˜ì„¸ë²•_ì‹œí–‰ë ¹).pdf
  ```python3
  chunk size = 1000, over lap = 100 ìœ¼ë¡œ ì„¤ì •
  ```

- 2024_í•µì‹¬_ê°œì •ì„¸ë²•.pdf, ì—°ë§ì •ì‚°_ì‹ ê³ ì•ˆë‚´.pdf, ì—°ë§ì •ì‚°_ì£¼íƒìê¸ˆÂ·ì›”ì„¸ì•¡_ê³µì œì˜ì´í•´.pdf, ì£¼ìš”_ê³µì œ_í•­ëª©ë³„_ê³„ì‚°ì‚¬ë¡€.pdf
  ```python3
  chunk size = 1000, over lap = 100 ìœ¼ë¡œ ì„¤ì •
  ```

- ì—°ë§ì •ì‚°_Q&A.pdf
  ```python3
   chunk size = 1000, over lap = 100 ìœ¼ë¡œ ì„¤ì •
  ```



### 2.5. ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ êµ¬í˜„ 
- ebedding vectorì˜ ì°¨ì›ìˆ˜ ì´ˆê³¼ë¡œ 72ê°œì˜ íŒŒì¼ì„ 6ê°œì˜ í´ë”ë¡œ ë°°ë¶„
- ë²•ë ¹ ë° ì‹œí–‰ë ¹ ì „ì²˜ë¦¬, í‘œê°€ ë§ì€ etcí´ë” íŒŒì¼ë“¤ ì „ì²˜ë¦¬
- ê° í´ë”ë³„ ë²¡í„°í™” í›„ ë¹ˆ vector storeì— ì €ì¥.
- ì„ íƒí•œ ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ì— ë°ì´í„° ì €ì¥
  ```python3
  COLLECTION_NAME = "tax_law"
  PERSIST_DIRECTORY = "tax"

  def set_vector_store(documents):
    embedding_model = OpenAIEmbeddings(model="text-embedding-3-small")

    return Chroma.from_documents(
        documents=documents,
        embedding=embedding_model,
        collection_name=COLLECTION_NAME,
        persist_directory=PERSIST_DIRECTORY
    )
    ```

### 2.6. RAG êµ¬í˜„
- ì§ˆì˜ ì²˜ë¦¬ ë¡œì§ êµ¬í˜„
- ê´€ë ¨ ì •ë³´ ê²€ìƒ‰ ë©”ì»¤ë‹ˆì¦˜ êµ¬ì¶•
  ```python3
  # Prompt Template ìƒì„±
  messages = [
      ("ai", """
      ë‹¹ì‹ ì€ ëŒ€í•œë¯¼êµ­ ì„¸ë²•ì— ëŒ€í•´ ì „ë¬¸ì ìœ¼ë¡œ í•™ìŠµëœ AI ë„ìš°ë¯¸ì…ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ì§ˆë¬¸ì— ëŒ€í•´ ì €ì¥ëœ ì„¸ë²• ì¡°í•­ ë°ì´í„°ì™€ ê´€ë ¨ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì •í™•í•˜ê³  ì‹ ë¢°ì„± ìˆëŠ” ë‹µë³€ì„ ì œê³µí•˜ì„¸ìš”. 

      **ì—­í•  ë° ê¸°ë³¸ ê·œì¹™**:
      - ë‹¹ì‹ ì˜ ì£¼ìš” ì—­í• ì€ ì„¸ë²• ì •ë³´ë¥¼ ì‚¬ìš©ì ì¹œí™”ì ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
      - ë°ì´í„°ì— ê¸°ë°˜í•œ ì •ë³´ë¥¼ ì œê³µí•˜ë©°, ë°ì´í„°ì— ì—†ëŠ” ë‚´ìš©ì€ ì„ì˜ë¡œ ì¶”ì¸¡í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
      - ë¶ˆí™•ì‹¤í•œ ê²½ìš°, "ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤."ë¼ê³  ëª…í™•íˆ ë‹µë³€í•˜ê³ , ì‚¬ìš©ìê°€ ì§ˆë¬¸ì„ ë” êµ¬ì²´í™”í•˜ë„ë¡ ìœ ë„í•©ë‹ˆë‹¤.

      **ì§ˆë¬¸ ì²˜ë¦¬ ì ˆì°¨**:
      1. **ì§ˆë¬¸ì˜ í•µì‹¬ ë‚´ìš© ì¶”ì¶œ**:
          - ì§ˆë¬¸ì„ í˜•íƒœì†Œ ë‹¨ìœ„ë¡œ ë¶„ì„í•˜ì—¬ ì¡°ì‚¬ë¥¼ ë¬´ì‹œí•˜ê³  í•µì‹¬ í‚¤ì›Œë“œë§Œ ì¶”ì¶œí•©ë‹ˆë‹¤. 
          - ì§ˆë¬¸ì˜ í˜•íƒœê°€ ë‹¤ë¥´ë”ë¼ë„ ë¬¸ë§¥ì˜ ì˜ë„ê°€ ê°™ìœ¼ë©´ ë™ì¼í•œ ì§ˆë¬¸ìœ¼ë¡œ ê°„ì£¼í•©ë‹ˆë‹¤.
          - ì˜ˆë¥¼ ë“¤ì–´, "ê°œë³„ì†Œë¹„ì„¸ë²• 1ì¡° ì•Œë ¤ì¤˜" ì™€ "ê°œë³„ì†Œë¹„ì„¸ë²• 1ì¡°ëŠ” ë­ì•¼" ì™€ "ê°œë³„ì†Œë¹„ì„¸ë²• 1ì¡°ì˜ ë‚´ìš©ì€?"ëŠ” ë™ì¼í•œ ì§ˆë¬¸ìœ¼ë¡œ ê°„ì£¼í•©ë‹ˆë‹¤.
          - ì˜ˆë¥¼ ë“¤ì–´, "ì†Œë“ì„¸ëŠ” ë¬´ì—‡ì¸ê°€ìš”?"ì™€ "ì†Œë“ì„¸ê°€ ë¬´ì—‡ì¸ê°€ìš”?"ëŠ” ë™ì¼í•œ ì§ˆë¬¸ìœ¼ë¡œ ê°„ì£¼í•©ë‹ˆë‹¤.
      2. **ê´€ë ¨ ì„¸ë²• ì¡°í•­ ê²€ìƒ‰**:
          - ì§ˆë¬¸ì˜ í•µì‹¬ í‚¤ì›Œë“œì™€ ê°€ì¥ ê´€ë ¨ ìˆëŠ” ì„¸ë²• ì¡°í•­ì´ë‚˜ ì‹œí–‰ë ¹ì„ ìš°ì„ ì ìœ¼ë¡œ ì°¾ìŠµë‹ˆë‹¤.
          - í•„ìš”í•œ ê²½ìš°, ì§ˆë¬¸ê³¼ ì—°ê´€ëœ ì¶”ê°€ ì¡°í•­ë„ ê²€í† í•˜ì—¬ ë‹µë³€ì˜ ì™„ì„±ë„ë¥¼ ë†’ì…ë‹ˆë‹¤.
      3. **ì§ˆë¬¸ ìœ í˜• íŒë‹¨**:
          - **ì •ì˜ ì§ˆë¬¸**: íŠ¹ì • ìš©ì–´ë‚˜ ì œë„ì˜ ì •ì˜ë¥¼ ë¬»ëŠ” ê²½ìš°.
          - **ì ˆì°¨ ì§ˆë¬¸**: íŠ¹ì • ì œë„ì˜ ì ìš©ì´ë‚˜ ì‹ ê³  ë°©ë²•ì„ ë¬»ëŠ” ê²½ìš°.
          - **ì‚¬ë¡€ ì§ˆë¬¸**: êµ¬ì²´ì ì¸ ìƒí™©ì— ëŒ€í•œ ì„¸ë²• í•´ì„ì„ ìš”ì²­í•˜ëŠ” ê²½ìš°.
      4. **ë‹µë³€ ìƒì„±**:
          - ë²•ë¥  ì¡°í•­ì— ê´€í•œ ì§ˆë¬¸ì´ë¼ë©´ ê·¸ ì¡°í•­ì— ê´€í•œ ì „ì²´ ë‚´ìš©ì„ ê°€ì ¸ì˜¨ë‹¤.
          - ì˜ˆë¥¼ë“¤ì–´ 'ê°œë³„ì†Œë¹„ì„¸ë²• 1ì¡°ì˜ ë‚´ìš©'ì´ë¼ëŠ” ì§ˆë¬¸ì„ ë°›ìœ¼ë©´ ê°œë³„ì†Œë¹„ì„¸ë²• 1ì¡°ì˜ ì¡°í•­ì„ ì „ë¶€ ë‹¤ ë‹µë³€í•œë‹¤.
          - ì§ˆë¬¸ ìœ í˜•ì— ë”°ë¼ ê´€ë ¨ ì •ë³´ë¥¼ êµ¬ì¡°ì ìœ¼ë¡œ ì‘ì„±í•˜ë©°, ì¤‘ìš” ì„¸ë²• ì¡°ë¬¸ê³¼ ìš”ì•½ëœ ë‚´ìš©ì„ í¬í•¨í•©ë‹ˆë‹¤.
          - ë¹„ì „ë¬¸ê°€ë„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ìš©ì–´ë¥¼ ì¹œì ˆíˆ ì„¤ëª…í•©ë‹ˆë‹¤.

      **ë‹µë³€ ì‘ì„± ê°€ì´ë“œë¼ì¸**:
      - **ê°„ê²°ì„±**: ë‹µë³€ì€ ê°„ë‹¨í•˜ê³  ëª…í™•í•˜ê²Œ ì‘ì„±í•˜ë˜, ë²• ì¡°í•­ì— ê´€í•œ ì§ˆë¬¸ì¼ ê²½ìš° ê´€ë ¨ ë²• ì¡°ë¬¸ì˜ ì „ë¬¸ì„ ëª…ì‹œí•©ë‹ˆë‹¤.
      - **êµ¬ì¡°í™”ëœ ì •ë³´ ì œê³µ**:
          - ì„¸ë²• ì¡°í•­ ë²ˆí˜¸, ì„¸ë²• ì¡°í•­ì˜ ì •ì˜, ì‹œí–‰ë ¹, ê´€ë ¨ ê·œì •ì„ êµ¬ì²´ì ìœ¼ë¡œ ëª…ì‹œí•©ë‹ˆë‹¤.
          - ë³µì¡í•œ ê°œë…ì€ ì˜ˆì‹œë¥¼ ë“¤ì–´ ì„¤ëª…í•˜ê±°ë‚˜, ë‹¨ê³„ì ìœ¼ë¡œ ì•ˆë‚´í•©ë‹ˆë‹¤.
      - **ì‹ ë¢°ì„± ê°•ì¡°**:
          - ë‹µë³€ì´ ë²•ì  ì¡°ì–¸ì´ ì•„ë‹ˆë¼ ì •ë³´ ì œê³µ ëª©ì ì„ì„ ëª…í™•íˆ ì•Œë¦½ë‹ˆë‹¤.
          - "ì´ ë‹µë³€ì€ ì„¸ë²• ê´€ë ¨ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë©°, êµ¬ì²´ì ì¸ ìƒí™©ì— ë”°ë¼ ì „ë¬¸ê°€ì˜ ì¶”ê°€ ì¡°ì–¸ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
      - **ì •í™•ì„±**:
          - ë²•ë ¹ ë° ë²•ë¥ ì— ê´€í•œì§ˆë¬¸ì€ ì¶”ê°€ì ì¸ ë‚´ìš©ì—†ì´ í•œê°€ì§€ contentì— ì§‘ì¤‘í•˜ì—¬ ë‹µë³€í•œë‹¤.
          - ë²•ì¡°í•­ì—ëŒ€í•œ ì§ˆë¬¸ì€ ì‹œí–‰ë ¹ì´ë‚˜ ì‹œí–‰ê·œì¹™ë³´ë‹¨ í•´ë‹¹ë²•ì—ì„œ ê°€ì ¸ì˜¤ëŠ”ê²ƒì— ì§‘ì¤‘í•œë‹¤.

      **ì¶”ê°€ì ì¸ ì‚¬ìš©ì ì§€ì›**:
      - ë‹µë³€ í›„ ì‚¬ìš©ìì—ê²Œ ì£¼ì œì™€ ê´€ë ¨ëœ í›„ì† ì§ˆë¬¸ ë‘ ê°€ì§€ë¥¼ ì œì•ˆí•©ë‹ˆë‹¤.
      - í›„ì† ì§ˆë¬¸ì€ ì‚¬ìš©ìê°€ ë” ê¹Šì´ íƒêµ¬í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„í•˜ë©°, ê° ì§ˆë¬¸ ì•ë’¤ì— í•œ ì¤„ì”© ë„ì–´ì“°ê¸°ë¥¼ í•©ë‹ˆë‹¤.

      **ì˜ˆì™¸ ìƒí™© ì²˜ë¦¬**:
      - ì‚¬ìš©ìê°€ ì§ˆë¬¸ì„ ëª¨í˜¸í•˜ê²Œ ì‘ì„±í•œ ê²½ìš°:
          - "ì§ˆë¬¸ì´ ëª…í™•í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–¤ ë¶€ë¶„ì„ ì•Œê³  ì‹¶ìœ¼ì‹ ì§€ ë§ì”€í•´ ì£¼ì‹œê² ì–´ìš”?"ì™€ ê°™ì€ ë¬¸êµ¬ë¡œ ì¶”ê°€ ì •ë³´ë¥¼ ìš”ì²­í•©ë‹ˆë‹¤.
      - ì§ˆë¬¸ì´ ì„¸ë²•ê³¼ ì§ì ‘ ê´€ë ¨ì´ ì—†ëŠ” ê²½ìš°:
          - "ì´ ì§ˆë¬¸ì€ ì œê°€ í•™ìŠµí•œ ëŒ€í•œë¯¼êµ­ ì„¸ë²• ë²”ìœ„ë¥¼ ë²—ì–´ë‚©ë‹ˆë‹¤."ë¼ê³  ì•Œë¦¬ê³ , ì„¸ë²•ê³¼ ê´€ë ¨ëœ ìƒˆë¡œìš´ ì§ˆë¬¸ì„ ìœ ë„í•©ë‹ˆë‹¤.

      **ì¶”ê°€ ì§€ì¹¨**:
      - ê°œí–‰ë¬¸ì ë‘ ê°œ ì´ìƒì€ ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”.
      - ì§ˆë¬¸ ë° ë‹µë³€ì—ì„œ ì‚¬ìš©ëœ ì„¸ë²• ì¡°ë¬¸ì€ ìµœì‹  ë°ì´í„°ì— ê¸°ë°˜í•´ì•¼ í•©ë‹ˆë‹¤.
      - ì§ˆë¬¸ì´ ë³µí•©ì ì¸ ê²½ìš°, ê° í•˜ìœ„ ì§ˆë¬¸ì— ëŒ€í•´ ë³„ë„ë¡œ ë‹µë³€í•˜ê±°ë‚˜, ì‚¬ìš©ìì—ê²Œ ìš°ì„ ìˆœìœ„ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

      **ì˜ˆì‹œ ë‹µë³€ í…œí”Œë¦¿**:
      - "ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€: ..."
      - "ê´€ë ¨ ì„¸ë²• ì¡°í•­: ..."
      - "ì¶”ê°€ ì„¤ëª…: ..."

      {context}
      """),
      ("human", "{question}"),
  ]
  prompt_template = ChatPromptTemplate(messages)
  # ëª¨ë¸
  model = ChatOpenAI(model="gpt-4o")
  
  # output parser
  parser = StrOutputParser()
  
  # Chain êµ¬ì„± retriever(ê´€ë ¨ë¬¸ì„œ ì¡°íšŒ) -> prompt_template(prompt ìƒì„±) -> model(ì •ë‹µ) -> output parser
  chain = {"context":retriever, "question": RunnablePassthrough()} | prompt_template | model | parser
  ```
  
---
## ğŸ“Œ 3. ì„±ëŠ¥ ê²€ì¦ ë° í‰ê°€
- **ê²€ì¦ ë°©ë²•:** 
- OPENAIë¥¼ ì´ìš©í•œ ì‹¤ì œ ë²•ë ¹ì— ëª…ì‹œëœ ë‚´ìš©ì—ì„œ Q-AìŒ 10ê°œ ì¶”ì¶œ í›„ LLMì˜ ë‹µë³€ê³¼ ì •í™•ì„±, ê´€ë ¨ì„±, ì‹ ë¢°ì„± ë“± í‰ê°€ ì§€í‘œ ì„¤ì • ë° ì¸¡ì •
- í™ˆí…ìŠ¤ ë‚´ì˜ ì§ˆì˜ì‘ë‹µ ê²Œì‹œíŒê³¼ LLMëª¨ë¸ì˜ ë‹µë³€ ë¹„êµ
- cos ìœ ì‚¬ë„ë¥¼ í†µí•œ ì§ˆë¬¸ê³¼ LLMë‹µë³€ê°„ì˜ ë¬¸ë°± ìœ ì‚¬ë„ ê²€ì¦
- bleuìŠ¤ì½”ì–´ ë° rouge ìŠ¤ì½”ì–´ ê²€ì¦
- **ê²°ê³¼:** ì‹œìŠ¤í…œì´ ì œê³µí•˜ëŠ” ë‹µë³€ì˜ ì •í™•ì„±ê³¼ ì¼ê´€ì„±ì„ ì§€ì†ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ì—¬ ì‹œìŠ¤í…œì„ ê°œì„ 

```python
# í‰ê°€ìš© chain  êµ¬ì„±
class EvalDatasetSchema(BaseModel):
    user_input:str = Field(..., description="ì§ˆë¬¸(Question)")
    retrieved_contexts:list[str] = Field(..., description="LLMì´ ë‹µë³€í•  ë•Œ ì°¸ì¡°í•  context")
    reference: str = Field(..., description="ì •ë‹µ(ground truth)")

jsonparser = JsonOutputParser(pydantic_object=EvalDatasetSchema)

qa_prompt_template = PromptTemplate.from_template(
    template=dedent("""
        ë‹¹ì‹ ì€ RAG í‰ê°€ë¥¼ ìœ„í•´ ì§ˆë¬¸ê³¼ ì •ë‹µ ìŒì„ ìƒì„±í•˜ëŠ” ì¸ê³µì§€ëŠ¥ ë¹„ì„œì…ë‹ˆë‹¤.
        ë‹¤ìŒ [Context] ì— ë¬¸ì„œê°€ ì£¼ì–´ì§€ë©´ í•´ë‹¹ ë¬¸ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ {num_questions}ê°œì˜ ì§ˆë¬¸ì„ ìƒì„±í•˜ì„¸ìš”. 

        ì§ˆë¬¸ê³¼ ì •ë‹µì„ ìƒì„±í•œ í›„ ì•„ë˜ì˜ ì¶œë ¥ í˜•ì‹ GUIDE ì— ë§ê²Œ ìƒì„±í•©ë‹ˆë‹¤.
        ì§ˆë¬¸ì€ ë°˜ë“œì‹œ [context] ë¬¸ì„œì— ìˆëŠ” ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤. [context]ì— ì—†ëŠ” ë‚´ìš©ì„ ê°€ì§€ê³  ì§ˆë¬¸-ë‹µë³€ì„ ì ˆëŒ€ ë§Œë“¤ë©´ ì•ˆë©ë‹ˆë‹¤.
        ì§ˆë¬¸ì€ ê°„ê²°í•˜ê²Œ ì‘ì„±í•©ë‹ˆë‹¤.
        í•˜ë‚˜ì˜ ì§ˆë¬¸ì—ëŠ” í•œ ê°€ì§€ì”©ë§Œ ë‚´ìš©ë§Œ ì‘ì„±í•©ë‹ˆë‹¤. 
        ì§ˆë¬¸ì„ ë§Œë“¤ ë•Œ "ì œê³µëœ ë¬¸ë§¥ì—ì„œ", "ë¬¸ì„œì— ì„¤ëª…ëœ ëŒ€ë¡œ", "ì£¼ì–´ì§„ ë¬¸ì„œì— ë”°ë¼" ë˜ëŠ” ì´ì™€ ìœ ì‚¬í•œ ë§ì„ í•˜ì§€ ë§ˆì„¸ìš”.
        ì •ë‹µì€ ë°˜ë“œì‹œ [context]ì— ìˆëŠ” ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‘ì„±í•©ë‹ˆë‹¤. ì—†ëŠ” ë‚´ìš©ì„ ì¶”ê°€í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        ì§ˆë¬¸ê³¼ ë‹µë³€ì„ ë§Œë“¤ê³  ê·¸ ë‚´ìš©ì´ [context] ì— ìˆëŠ” í•­ëª©ì¸ì§€ ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•©ë‹ˆë‹¤.
        ìƒì„±ëœ ì§ˆë¬¸-ë‹µë³€ ìŒì€ ë°˜ë“œì‹œ dictionary í˜•íƒœë¡œ ì •ì˜í•˜ê³  listë¡œ ë¬¶ì–´ì„œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.
        ì§ˆë¬¸-ë‹µë³€ ìŒì€ ë°˜ë“œì‹œ {num_questions}ê°œë¥¼ ë§Œë“¤ì–´ ì£¼ì‹­ì‹œì˜¤.
                    
        ì¶œë ¥ í˜•ì‹: {format_instructions}

        [Context]
        {context}
        """
    ),
    partial_variables={"format_instructions":jsonparser.get_format_instructions()}
)

# ë°ì´í„°ì…‹ ìƒì„± ì²´ì¸ êµ¬ì„±
model = ChatOpenAI(model="gpt-4o")
dataset_generator_chain = qa_prompt_template | model | jsonparser

# í‰ê°€ ë°ì´í„°ë¡œ ì‚¬ìš©í•  5ê°œì˜ context ì¶”ì¶œ
total_samples = 5

idx_list = list(range(len(all_documents)))
random.shuffle(idx_list)

eval_context_list = []
while len(eval_context_list) < total_samples:
    idx = idx_list.pop()
    context = all_documents[idx].page_content
    if len(context) > 100:
        eval_context_list.append(context)

# ì „ì²´ context sampleë“¤ë¡œ qa datasetì„ ìƒì„±
eval_data_list = []
num_questions = 2
for context in eval_context_list:
    _eval_data_list = dataset_generator_chain.invoke(
        {"context":context, "num_questions":num_questions}
    )
    for eval_data in _eval_data_list:
        eval_data['retrieved_contexts'] = [context]
    
    eval_data_list.extend(_eval_data_list)

eval_df = pd.DataFrame(eval_data_list)

context_list = []
response_list = []

for user_input in eval_df['user_input']:
    res = rag_chain.invoke(user_input)
    context_list.append(res['source_context'])
    response_list.append(res['llm_answer'])

eval_df["retrieved_contexts"] = context_list
eval_df["response"] = response_list

eval_dataset = EvaluationDataset.from_pandas(eval_df)

# í‰ê°€ëª¨ë¸ wrapping
load_dotenv()
model = ChatOpenAI(model= "gpt-4o")
eval_llm = LangchainLLMWrapper(model)
embedding_model = OpenAIEmbeddings(model="text-embedding-3-small")
eval_embedding = LangchainEmbeddingsWrapper(embedding_model)
metrics = [
    LLMContextRecall(llm=eval_llm),
    LLMContextPrecisionWithReference(llm=eval_llm),
    Faithfulness(llm=eval_llm),
    AnswerRelevancy(llm=eval_llm, embeddings=eval_embedding)
]

# BLEU, ROUGE Score ê²€ì¦
scorer = rouge_scorer.RougeScorer(['rouge1', 'rougeL'])
bleu_score = sentence_bleu([ground_truth.split()], answer.split())
rouge_scores = scorer.score(answer, ground_truth)

# ê²°ê³¼
result = evaluate(dataset=eval_dataset, metrics=metrics)
result.to_pandas()
print(f"BLEUì ìˆ˜:{bleu_score:.2f}")
print(f"Rouge1ì ìˆ˜:{rouge_scores['rouge1']}")
print(f"RougeLì ìˆ˜:{rouge_scores['rougeL']}")


```
- ê²°ê³¼<br/>
<img src="https://github.com/SKNETWORKS-FAMILY-AICAMP/SKN06-4th-04Team/blob/main/result_img/q_a_10pair.png"> <br/>
![image](https://github.com/user-attachments/assets/d0b3ddcc-91fd-4356-9b12-9765784fb446)

- ê²°ê³¼<br/>
<img src="https://github.com/SKNETWORKS-FAMILY-AICAMP/SKN06-4th-04Team/blob/main/result_img/hometax.png"><br/>
<img src="https://github.com/SKNETWORKS-FAMILY-AICAMP/SKN06-4th-04Team/blob/main/result_img/hometax_response.png"><br/>

ë‹µë³€: 
 ì·¨ì—… ì „ ì§€ì¶œí•œ ì›”ì„¸ë‚˜ ì‹ ìš©ì¹´ë“œ ê²°ì œ ê¸ˆì•¡ì˜ ì—°ë§ì •ì‚° ê³µì œ ì—¬ë¶€ëŠ” íŠ¹ì • ì¡°ê±´ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.ì¼ë°˜ì ìœ¼ë¡œ ì—°ë§ì •ì‚°ì—ì„œ ì†Œë“ê³µì œëŠ” í•´ë‹¹ ê³¼ì„¸ê¸°ê°„ ë‚´ ì†Œë“ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ ê³µì œ ê°€ëŠ¥í•©ë‹ˆë‹¤.ë”°ë¼ì„œ, ì·¨ì—… ì´ì „ì— ì†Œë“ì´ ì—†ë‹¤ë©´ í•´ë‹¹ ê¸°ê°„ ë™ì•ˆì˜ ì§€ì¶œì— ëŒ€í•´ì„œëŠ” ì†Œë“ê³µì œë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ” ê¸°ì¤€ì´ ì¶©ì¡±ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
1. ì›”ì„¸ ê³µì œ: ì›”ì„¸ ì„¸ì•¡ê³µì œëŠ” ê·¼ë¡œì†Œë“ì´ ìˆëŠ” ê²½ìš° í•´ë‹¹ ê³¼ì„¸ê¸°ê°„ì— ì‹¤ì œë¡œ ë‚©ë¶€í•œ ì›”ì„¸ì— ëŒ€í•´ ì ìš©ë©ë‹ˆë‹¤. ë”°ë¼ì„œ, ì·¨ì—… ì „ ì›”ì„¸ ì§€ì¶œì€ ê³µì œ ëŒ€ìƒì´ ì•„ë‹ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.
2. ì‹ ìš©ì¹´ë“œ ê³µì œ: ì‹ ìš©ì¹´ë“œ ì‚¬ìš©ê¸ˆì•¡ ì†Œë“ê³µì œëŠ” ê·¼ë¡œì†Œë“ì´ ìˆëŠ” ê±°ì£¼ìê°€ í•´ë‹¹ ê³¼ì„¸ì—°ë„ì— ì‚¬ìš©í•œ ê¸ˆì•¡ì— ëŒ€í•´ ì ìš©ë©ë‹ˆë‹¤.ì·¨ì—… ì „ ì‚¬ìš©í•œ ê¸ˆì•¡ì€ ì†Œë“ì´ ì—†ì—ˆê¸° ë•Œë¬¸ì— ê³µì œ ëŒ€ìƒì´ ì•„ë‹ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ê° ê°œì¸ì˜ ìƒí™©ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì •í™•í•œ íŒë‹¨ì„ ìœ„í•´ì„œëŠ” ì„¸ë¬´ ì „ë¬¸ê°€ì™€ ìƒë‹´í•˜ê±°ë‚˜ êµ­ì„¸ì²­ì˜ ì§€ì¹¨ì„ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì´ ë‹µë³€ì€ ì„¸ë²• ê´€ë ¨ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë©°, êµ¬ì²´ì ì¸ ìƒí™©ì— ë”°ë¼ ì „ë¬¸ê°€ì˜ ì¶”ê°€ ì¡°ì–¸ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br/>
- ê²°ê³¼<br/>
Semantic Similarity: 0.38 <br/><br/>
BLEUì ìˆ˜:0.00 <br/><br/>
Rouge1ì ìˆ˜:Score(precision=0.2, recall=0.5, fmeasure=0.28571428571428575) <br/>
RougeLì ìˆ˜:Score(precision=0.2, recall=0.5, fmeasure=0.28571428571428575) <br/>



---
## ğŸ“Œ 4. í•œ ì¤„ íšŒê³ ğŸ“
 - **ë…¸ì›ì¬**: ì–´ë µêµ°ìš”..
 - **ë°•ì„œìœ¤**: ì´ì œê¹Œì§€ í•œ í”„ë¡œì íŠ¸ ì¤‘ì—ì„œ ì œì¼ ì¬ë°ŒëŠ”ë° ì˜ ëª¨ë¥´ê² ë‹¤,,,
 - **ë°•ìœ ë‚˜**: ì´ë²ˆ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©°, ì „ì²˜ë¦¬ ê³¼ì •ì— ë”°ë¼ ê²°ê³¼ê°€ í¬ê²Œ ë‹¬ë¼ì§€ëŠ” ì , prompt template ë©”ì‹œì§€ ì‘ì„± ë°©ì‹ì— ë”°ë¼ ê²°ê³¼ê°€ ê·¹ëª…í•˜ê²Œ ë³€í™”í•˜ëŠ” ì ì´ í¥ë¯¸ë¡œì› ìŠµë‹ˆë‹¤. 
 - **ìœ ê²½ìƒ**: ì§€ë‚œë²ˆ í”„ë¡œì íŠ¸ë•Œ ë¶€ì¡±í–ˆë˜ í‰ê°€ë¶€ë¶„ì„ ìˆ˜ì •í•˜ë©´ì„œ LLMëª¨ë¸ êµ¬ì„±ì—ëŒ€í•œ ì´í•´ë„ê°€ ë†’ì•„ì¡Œë‹¤. í•˜ì§€ë§Œ ì•„ì§ ì¥ê³ í™œìš©ì— ìˆì–´ì„œ ë¶€ì¡±í•œì ì´ ë§ì•„ ì¶”ê°€ì ìœ¼ë¡œ í•™ìŠµì´ í•„ìš”í• ê±°ê°™ë‹¤. 
 - **ì „í•˜ì—°**: ì‰½ì§€ ì•Šë‹¤..
>>>>>>> 71306b5 (ì±—ë´‡)
